!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Vue")):"function"==typeof define&&define.amd?define(["Vue"],t):"object"==typeof exports?exports.__REMOTE_LOADED_APP__=t(require("Vue")):e.__REMOTE_LOADED_APP__=t(e.Vue)}(window,(function(e){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/CUS_CARD_NEWSANNOUNCEMENT/pc/",i(i.s=0)}({0:function(e,t,i){e.exports=i("56d7")},"01c5":function(e,t,i){var a=i("24fb"),s=i("1de5"),n=i("d5b8"),o=i("450f");t=a(!1);var r=s(n),l=s(o);t.push([e.i,".timeTitleImg[data-v-6c0cd0e1]{display:flex;align-items:center;padding:14px 0}.timeTitleImg.borderBootom[data-v-6c0cd0e1]{box-shadow:inset 0 -1px 0 0 #f0f0f0}.timeTitleImg .lineHeight_22[data-v-6c0cd0e1]{line-height:22px}.timeTitleImg .timeTitleImg__img[data-v-6c0cd0e1]{margin-right:16px;width:92px;height:70px;background-size:cover;background-repeat:no-repeat;background-position:50%;border-radius:4px;cursor:pointer}.timeTitleImg .timeTitleImg__info[data-v-6c0cd0e1]{flex:1;min-width:0}.timeTitleImg .timeTitleImg__info .timeTitleImg__titleWrap[data-v-6c0cd0e1]{display:flex;align-items:center;margin-bottom:2px}.timeTitleImg .timeTitleImg__info .timeTitleImg__titleWrap .tag[data-v-6c0cd0e1]{width:28px;height:14px;margin-left:6px;flex-shrink:0;background-size:100% 100%}.timeTitleImg .timeTitleImg__info .timeTitleImg__titleWrap .topTag[data-v-6c0cd0e1]{background-image:url("+r+")}.timeTitleImg .timeTitleImg__info .timeTitleImg__titleWrap .newTag[data-v-6c0cd0e1]{background-image:url("+l+")}.timeTitleImg .timeTitleImg__info .timeTitleImg__info__title[data-v-6c0cd0e1]{min-width:0;max-width:1000px;display:block;font-size:16px;line-height:24px;height:24px;white-space:pre;cursor:pointer}.timeTitleImg .timeTitleImg__info .timeTitleImg__info__foot[data-v-6c0cd0e1]{display:flex;margin-top:2px}.timeTitleImg .timeTitleImg__info .timeTitleImg__info__foot .timeTitleImg__info__channel[data-v-6c0cd0e1]{flex:1;min-width:0}.timeTitleImg .timeTitleImg__info .timeTitleImg__info__foot .timeTitleImg__info__time[data-v-6c0cd0e1]{margin-left:20px}.timeTitleImg .timeTitleImg__info.extremum .timeTitleImg__info__foot .timeTitleImg__info__time[data-v-6c0cd0e1]{max-width:64px}",""]),e.exports=t},"05e4":function(e,t,i){"use strict";i("a265")},"0629":function(e,t,i){var a=i("0df2");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,i("499e").default)("44bf08b0",a,!0,{sourceMap:!1,shadowMode:!1})},"0df2":function(e,t,i){var a=i("24fb"),s=i("1de5"),n=i("d5b8"),o=i("450f");t=a(!1);var r=s(n),l=s(o);t.push([e.i,".timeTitle[data-v-0ac52822]{background:#fff;display:flex}.timeTitle.borderBootom[data-v-0ac52822]{box-shadow:inset 0 -1px 0 0 #f0f0f0}.timeTitle .timeDisplay[data-v-0ac52822]{letter-spacing:0}.timeTitle__titleWrap[data-v-0ac52822]{display:flex;align-items:center}.timeTitle__titleWrap .timeTitle__title[data-v-0ac52822]{min-width:0;max-width:1000px;display:block;font-size:16px;white-space:pre;line-height:24px;height:24px;cursor:pointer}.timeTitle__titleWrap .tag[data-v-0ac52822]{width:28px;height:14px;margin-left:6px;flex-shrink:0;background-size:100% 100%}.timeTitle__titleWrap .topTag[data-v-0ac52822]{background-image:url("+r+")}.timeTitle__titleWrap .newTag[data-v-0ac52822]{background-image:url("+l+")}.title-row-higher[data-v-0ac52822]{height:76px;flex-direction:column;justify-content:center}.title-row-higher .timeTitle__title[data-v-0ac52822]{line-height:24px}.title-row-higher .timeDisplay[data-v-0ac52822]{margin-top:2px;line-height:22px}.title-row-lower[data-v-0ac52822]{height:48px;align-items:center}.title-row-lower .timeTitle__titleWrap[data-v-0ac52822]{flex:1;min-width:0}.title-row-lower .timeDisplay[data-v-0ac52822]{margin-left:16px}",""]),e.exports=t},"139d":function(e,t,i){"use strict";i("ef7f")},1769:function(e,t,i){var a=i("24fb"),s=i("1de5"),n=i("d5b8"),o=i("450f");t=a(!1);var r=s(n),l=s(o);t.push([e.i,".publisher.borderBootom[data-v-9275d1d2]{box-shadow:inset 0 -1px 0 0 #f0f0f0}.publisher .imgWrap[data-v-9275d1d2]{position:relative;display:block;cursor:pointer}.publisher .imgWrap .img[data-v-9275d1d2]{width:100%;height:152px;border-radius:4px;background-size:cover;background-repeat:no-repeat;background-position:50%}.publisher .imgWrap .imgTitle__bg[data-v-9275d1d2]{position:absolute;width:100%;left:0;bottom:0;height:60px;background-image:linear-gradient(180deg,transparent,#000 99%);border-radius:0 0 4px 4px;color:#fff;opacity:.6}.publisher .imgWrap .imgTitle__content[data-v-9275d1d2]{position:absolute;width:100%;left:0;bottom:0;padding:24px 16px 15px 16px;color:#fff;font-size:16px;z-index:1}.publisher .publisher__list[data-v-9275d1d2]{height:76px;display:flex;flex-direction:column;justify-content:center}.publisher .publisher__list .publisher__list__info[data-v-9275d1d2]{display:flex;align-items:center}.publisher .publisher__list .publisher__list__info .publisher__list__title[data-v-9275d1d2]{min-width:0;max-width:1000px;font-size:16px;line-height:24px;height:24px;display:block;white-space:pre;cursor:pointer}.publisher .publisher__list .publisher__list__info .tag[data-v-9275d1d2]{width:28px;height:14px;margin-left:6px;flex-shrink:0;background-size:100% 100%}.publisher .publisher__list .publisher__list__info .topTag[data-v-9275d1d2]{background-image:url("+r+")}.publisher .publisher__list .publisher__list__info .newTag[data-v-9275d1d2]{background-image:url("+l+")}.publisher .publisher__list .publisher__list__subsInfo[data-v-9275d1d2]{margin-top:2px;line-height:22px;display:flex;align-items:center}.publisher .publisher__list .publisher__list__name[data-v-9275d1d2]{flex:1;min-width:0}.publisher .publisher__list .publisher__list__time[data-v-9275d1d2]{margin-left:20px;min-width:64px}",""]),e.exports=t},"1de5":function(e,t,i){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},"24fb":function(e,t,i){"use strict";function a(e,t){var i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var s=function(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(i," */")}(a),n=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(n).concat([s]).join("\n")}return[i].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=a(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,a){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(a)for(var n=0;n<this.length;n++){var o=this[n][0];null!=o&&(s[o]=!0)}for(var r=0;r<e.length;r++){var l=[].concat(e[r]);a&&s[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},"2cde":function(e,t,i){"use strict";i("d7a1")},"321b":function(e,t,i){(t=i("24fb")(!1)).push([e.i,'.newsTab[data-v-3be2b518]{height:42px;display:flex;align-items:center;background:#fff;box-shadow:inset 0 -1px 0 0 #f0f0f0}.newsTab .newsTab__left[data-v-3be2b518]{flex:1;min-width:0;overflow:hidden}.newsTab .newsTab__left .newsTab__item__wrap[data-v-3be2b518]{display:inline-flex;align-items:center;transition:transform .3s ease-in}.newsTab .newsTab__left .newsTab__item__wrap .newsTab__item[data-v-3be2b518]{margin-right:16px;cursor:pointer;flex-shrink:0}.newsTab .newsTab__left .newsTab__item__wrap .newsTab__item.active[data-v-3be2b518]{font-weight:700}.newsTab .newsTab__right[data-v-3be2b518]{height:42px;line-height:42px;padding:0 0 0 8px;position:relative}.newsTab .newsTab__right .newsTab__right__btn[data-v-3be2b518]{cursor:pointer}.newsTab .newsTab__right .newsTab__right__MoreIcon[data-v-3be2b518]{font-size:12px;margin-left:4px}.newsTab .newsTab__right .newsTab__right__MoreIcon.expand[data-v-3be2b518]{display:inline-block;transform:rotate(180deg)}.newsTab .newsTab__right .newsTab__right__subscribeIcon[data-v-3be2b518]{margin-right:4px;vertical-align:middle;margin-top:-2px}.newsTab .newsTab__right .newsTab__right__split[data-v-3be2b518]{margin:0 8px;display:inline-block;height:13px;width:1px;vertical-align:middle;box-shadow:inset -1px 0 0 0 #f0f0f0}.newsTab .moreShadow[data-v-3be2b518]:before{content:"";position:absolute;display:block;width:10px;height:42px;top:0;left:0;box-shadow:-5px 0 12px -2px rgba(0,0,0,.08)}.newsTab__more[data-v-3be2b518]{visibility:hidden;overflow:hidden;max-height:0;transition:max-height .4s ease-in;position:absolute;top:42px;left:0;width:100%;background:#fff;box-shadow:0 3px 16px 0 rgba(0,0,0,.09);z-index:99;padding:8px 20px 20px 20px;border-radius:0 0 4px 4px}.newsTab__more.show[data-v-3be2b518]{visibility:visible;max-height:none}.newsTab__more .newsTab__more__item[data-v-3be2b518]{cursor:pointer;display:inline-block;border-radius:4px;margin-right:12px;margin-top:12px;padding:3px 12px;line-height:22px;border:1px solid #d9d9d9}',""]),e.exports=t},"450f":function(e,t,i){e.exports=i.p+"img/newTag.bf0d4b7a.svg"},"499e":function(e,t,i){"use strict";function a(e,t){for(var i=[],a={},s=0;s<t.length;s++){var n=t[s],o=n[0],r={id:e+":"+s,css:n[1],media:n[2],sourceMap:n[3]};a[o]?a[o].parts.push(r):i.push(a[o]={id:o,parts:[r]})}return i}i.r(t),i.d(t,"default",(function(){return f}));var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var n={},o=s&&(document.head||document.getElementsByTagName("head")[0]),r=null,l=0,d=!1,c=function(){},h=null,p="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,i,s){d=i,h=s||{};var o=a(e,t);return g(o),function(t){for(var i=[],s=0;s<o.length;s++){var r=o[s],l=n[r.id];l.refs--,i.push(l)}for(t?g(o=a(e,t)):o=[],s=0;s<i.length;s++)if(0===(l=i[s]).refs){for(var d=0;d<l.parts.length;d++)l.parts[d]();delete n[l.id]}}}function g(e){for(var t=0;t<e.length;t++){var i=e[t],a=n[i.id];if(a){a.refs++;for(var s=0;s<a.parts.length;s++)a.parts[s](i.parts[s]);for(;s<i.parts.length;s++)a.parts.push(m(i.parts[s]));a.parts.length>i.parts.length&&(a.parts.length=i.parts.length)}else{var o=[];for(s=0;s<i.parts.length;s++)o.push(m(i.parts[s]));n[i.id]={id:i.id,refs:1,parts:o}}}}function b(){var e=document.createElement("style");return e.type="text/css",o.appendChild(e),e}function m(e){var t,i,a=document.querySelector("style["+p+'~="'+e.id+'"]');if(a){if(d)return c;a.parentNode.removeChild(a)}if(u){var s=l++;a=r||(r=b()),t=w.bind(null,a,s,!1),i=w.bind(null,a,s,!0)}else a=b(),t=v.bind(null,a),i=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else i()}}var _=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function w(e,t,i,a){var s=i?"":a.css;if(e.styleSheet)e.styleSheet.cssText=_(t,s);else{var n=document.createTextNode(s),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(n,o[t]):e.appendChild(n)}}function v(e,t){var i=t.css,a=t.media,s=t.sourceMap;if(a&&e.setAttribute("media",a),h.ssrId&&e.setAttribute(p,t.id),s&&(i+="\n/*# sourceURL="+s.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}},"56d7":function(e,t,i){"use strict";i.r(t),i.d(t,"bootstrap",(function(){return D}));var a=i("8bbf"),s=i.n(a);const n={data(){const{cardWid:e,cardId:t,cardName:i}=this.router,a=window.shell.getPageData().pageInfoEntity,s=(new Date).getTime();return{hasLoadedTrack:!1,trackParam:{actionType:3,functionType:1,startTime:s,endTime:"",listId:`${t}_${e}_${s}`,actionParams:{pageCode:a.pageCode,pageName:a.pageName,cardWid:e,cardId:t,cardName:i}}}},methods:{handleClickTrack(e){const t={...this.trackParam.actionParams};e&&(t.extraInfo=e),window.minosStataCollect.collect({actionType:0,functionType:1,startTime:(new Date).getTime(),actionParams:t})},loadedEndTrack(){this.hasLoadedTrack||(this.hasLoadedTrack=!0,window.minosStataCollect.loadEnd({listId:this.trackParam.listId,endTime:(new Date).getTime()}))}},created(){window.minosStataCollect.loadStart(this.trackParam)}},o={methods:{handleClickTrack(e){const{cardWid:t,cardId:i,cardName:a}=this.router,s=window.shell.getPageData().pageInfoEntity,n={pageCode:s.pageCode,pageName:s.pageName,cardWid:t,cardId:i,cardName:a};e&&(n.extraInfo=e),window.minosStataCollect.collect({actionType:0,functionType:1,startTime:(new Date).getTime(),actionParams:n})}}};var r={props:{dataLists:Array,defaultSelected:Array,router:Object},mixins:[o],data:()=>({treeLists:[],checkAll:!1,keyword:"",checkedLists:[],defaultProps:{label:"name",disabled(e,t){const i=t.childNodes,a=i.filter((e=>e.disabled));return e.isFixed||i.length&&i.length===a.length}},channelLists:[],treeDefaultChecked:[],treeDefaultExpand:[]}),computed:{allDisabled(){return!this.channelLists.length}},watch:{dataLists:{immediate:!0,handler(){this.initData()}}},methods:{handleReset(){this.checkedLists=this.resetLists.concat(),this.$refs.ChannelTree.setCheckedKeys(this.defaultSelected),this.handleIsCheckAll(),this.$parent.$parent.disabled=!this.checkedLists.length,this.handleClickTrack()},handleChangeAll(e){if(e){const e=this.channelLists.map((e=>e.id));this.$refs.ChannelTree.setCheckedKeys(e)}else{const e=this.channelLists.filter((e=>e.isFixed)).map((e=>e.id));this.$refs.ChannelTree.setCheckedKeys(e)}this.handleClickTrack()},handleCancle(e){this.$refs.ChannelTree.setChecked(e.id,!1),this.checkedLists=this.checkedLists.filter((t=>e.id!==t.id)),this.handleIsCheckAll(),this.$parent.$parent.disabled=!this.checkedLists.length,this.handleClickTrack()},handleCheckChange(e,t){e.isChannel&&(t?this.checkedLists.find((t=>t.id===e.id))||this.checkedLists.push({id:e.id,name:e.name,isFixed:e.isFixed,parentName:this.findParentName(e)}):this.checkedLists=this.checkedLists.filter((t=>t.id!==e.id))),this.handleIsCheckAll(),this.$parent.$parent.disabled=!this.checkedLists.length},handleKeyUp(e){"Enter"===e.key&&this.handleSearch()},handleSearch(){const e=[];let t=(i,a,s)=>{for(let a=i.length-1;a>=0;a--){const s=i[a];s.name.toLowerCase().includes(this.keyword.trim().toLowerCase())?e.push(s.id):s.children&&s.children.length?t(s.children,i,a):i.splice(a,1)}a&&!i.length?a.splice(s,1):a&&e.push(a[s].id)};const i=JSON.parse(JSON.stringify(this.originData));t(i),t=null,this.handleFilterChannels(i),this.treeDefaultChecked=this.checkedLists.map((e=>e.id)),this.keyword.trim()?this.treeDefaultExpand=e:this.treeDefaultExpand=[],this.treeLists=i,this.handleIsCheckAll(),this.handleClickTrack({infoType:3,filterInfo:{keyword:this.keyword.trim()}})},handleFilterChannels(e){const t=[];let i,a=[...e];for(;i=a.shift();)i.isChannel&&t.push({id:i.id,name:i.name,parentName:this.findParentName(i),isFixed:i.isFixed}),i.children&&a.push(...i.children);this.channelLists=t},handleIsCheckAll(){this.channelLists.length?this.channelLists.length>this.checkedLists.length?this.checkAll=!1:this.checkAll=this.channelLists.every((e=>this.checkedLists.find((t=>t.id===e.id)))):this.checkAll=!1},initData(){this.handleClear();const e=this.tranformToTree(this.dataLists.concat());this.treeLists=e,this.originData=JSON.parse(JSON.stringify(e)),this.$nextTick((function(){this.$refs.ChannelTree.setCheckedKeys(this.defaultSelected),this.$nextTick((function(){this.resetLists=this.checkedLists.concat()}))}))},tranformToTree(e){const t={},i=[],a=[];e.forEach((e=>{t[e.id]=e}));for(let s=0,n=e.length;s<n;s++){const n=e[s].parentId,o=t[n],r=e[s];r.isChannel&&a.push(r),"-1"!==n?o.children?o.children.push(r):o.children=[r]:i.push(r)}return this.channelLists=a,i},findParentName(e){if("-1"===e.parentId)return"";let t=[""],i=e=>{let a=this.dataLists.filter((t=>t.id===e.parentId));if(a.length){let e=a[0];t.unshift(e.name),"-1"!==e.parentId&&i(e)}};return i(e),t.length>1?t.join("-"):""},handleClear(){this.keyword="",this.treeDefaultChecked=[],this.treeDefaultExpand=[],this.checkedLists=[],this.checkAll=!1}},filters:{formatNum(e){let t=e;return"number"!=typeof t&&(t=Number(t)),isNaN(t)?0:t>99?"99+":t}}},l=r;function d(e,t,i,a,s,n,o,r){var l,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=i,d._compiled=!0),a&&(d.functional=!0),n&&(d._scopeId="data-v-"+n),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),s&&s.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=l):s&&(l=r?function(){s.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:s),l)if(d.functional){d._injectStyles=l;var c=d.render;d.render=function(e,t){return l.call(t),c(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:d}}i("78f7");var c=d(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"subscribeModal"},[t("div",{staticClass:"subscribeModal__left"},[t("div",{staticClass:"subscribeModal__header portal-font-color-lv2"},[t("we-checkbox",{staticStyle:{flex:"1"},attrs:{disabled:e.allDisabled},on:{change:e.handleChangeAll},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[t("span",{staticClass:"text__ellipsis",staticStyle:{"max-width":"70px","vertical-align":"middle"}},[e._v(e._s(e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","checkeAll","全选")))]),t("span",{staticStyle:{"vertical-align":"middle","margin-left":"4px"}},[e._v(e._s(e._f("formatNum")(e.channelLists.length)))])]),t("we-input",{staticStyle:{width:"200px","margin-left":"5px"},attrs:{placeholder:e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","placeholder","请输入栏目名称")},nativeOn:{keyup:function(t){return e.handleKeyUp.apply(null,arguments)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[t("i",{staticClass:"we-input__icon iconfont icon-CardSearch portal-font-color-lv4",staticStyle:{"font-size":"14px"},attrs:{slot:"suffix"},on:{click:e.handleSearch},slot:"suffix"})])],1),t("ContainerScroll",{staticStyle:{height:"calc(70vh - 230px)"},attrs:{scrollingX:!0,barKeepShow:!0}},[t("we-tree",{directives:[{name:"show",rawName:"v-show",value:e.treeLists.length,expression:"treeLists.length"}],ref:"ChannelTree",staticClass:"portal-font-color-lv1",staticStyle:{margin:"8px 0"},attrs:{"node-key":"id",data:e.treeLists,props:e.defaultProps,"render-after-expand":!1,"show-checkbox":"","default-checked-keys":e.treeDefaultChecked,"default-expanded-keys":e.treeDefaultExpand},on:{"check-change":e.handleCheckChange,check:e.handleClickTrack,"node-click":e.handleClickTrack}}),e.treeLists.length?e._e():t("EmptyCon",{attrs:{tip:e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","noData","暂无内容"),mainTipClass:"portal-font-color-lv2"}})],1)],1),t("div",{staticClass:"subscribeModal__right"},[t("div",{staticClass:"subscribeModal__header portal-font-color-lv2",staticStyle:{padding:"0 16px"}},[t("div",{staticStyle:{flex:"1","min-width":"0",display:"flex","align-items":"center","margin-right":"12px"}},[t("span",{staticClass:"ellipsis"},[e._v(e._s(e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","checkedPrograms","已选栏目")))]),t("span",{staticStyle:{"flex-shrink":"0","margin-left":"4px"}},[e._v(e._s(e._f("formatNum")(e.checkedLists.length)))])]),t("div",{staticClass:"portal-font-color-lv3 portal-primary-color-hover-lv1",staticStyle:{cursor:"pointer",display:"flex","align-items":"center"},on:{click:e.handleReset}},[t("i",{staticClass:"iconfont icon-Ashcan",staticStyle:{"margin-right":"4px"}}),t("span",{staticClass:"text__ellipsis",staticStyle:{"max-width":"110px"}},[e._v(e._s(e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","reset","重置")))])])]),t("ContainerScroll",{staticStyle:{height:"calc(70vh - 230px)"},attrs:{barKeepShow:!0}},[e.checkedLists.length?t("div",{staticStyle:{padding:"16px"}},e._l(e.checkedLists,(function(i,a){return t("div",{key:i.id,staticClass:"subscribeModal__tag"},[t("div",{staticClass:"subscribeModal__tag__name"},[t("span",{staticClass:"portal-font-color-lv3"},[e._v(e._s(i.parentName))]),t("span",{staticClass:"portal-font-color-lv1"},[e._v(e._s(i.name))])]),i.isFixed?e._e():t("div",{staticClass:"subscribeModal__tag__close",on:{click:function(t){return e.handleCancle(i,a)}}},[t("i",{staticClass:"iconfont icon-toastfailure portal-font-color-lv4 portal-primary-color-hover-lv1",staticStyle:{"font-size":"12px",cursor:"pointer"}})])])})),0):t("EmptyCon",{attrs:{tip:e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","selectChannels","请选择要订阅的栏目")}})],1)],1)])}),[],!1,null,"5f15ac7d",null),h=c.exports,p={props:{cardWidth:Number,cardHeight:Number,router:Object,newsShowSubscribe:[Number,String]},components:{SubscribeModal:h},mixins:[o],data:()=>({selectedTab:"",expand:!1,showMore:!1,visible:!1,disabled:!0,okLoading:!1,offsetStyle:"",subscribeLists:[],configureLists:[],loading:!1,isLogin:!!window.shell.getUserInfo()}),computed:{subscribeListsAll(){const e=this.$Lan("SYS_CARD_NEWSANNOUNCEMENT","allChannle","全部");return this.subscribeLists.length>1?[{wid:"all",name:e}].concat(this.subscribeLists):this.subscribeLists||[]},defaultSelected(){return this.subscribeLists.map((e=>null==e?void 0:e.wid))},showSubscribe(){return this.isLogin&&1==this.newsShowSubscribe&&this.subscribeLists.length},showHeader(){return(1!==(this.configureLists.filter((e=>e.isChannel))||[]).length||1!==this.subscribeLists.length)&&(this.subscribeLists.length||this.showSubscribe)}},watch:{cardWidth(){this.$nextTick((function(){this.calculateShowMore()}))},selectedTab(){this.handleUpdateNews()},newsShowSubscribe(){1==this.newsShowSubscribe&&this.$nextTick((function(){this.calculateShowMore()}))}},methods:{handleUpdateNews(){this.$emit("change-tab","all"===this.selectedTab?this.subscribeLists.map((e=>null==e?void 0:e.wid)).join(","):this.selectedTab)},async getSubscribedChannels(e){this.$parent.changeLoading(),await window.shell.execCardMethod({cardId:this.router.cardId,cardWid:this.router.cardWid,method:"getSubscribedChannels"},(t=>{var i;this.$parent.changeLoading(),this.subscribeLists=t.data||[],e?this.updateTabLists():this.subscribeLists.length>1?this.selectedTab="all":this.selectedTab=this.subscribeLists.length?null===(i=this.subscribeLists[0])||void 0===i?void 0:i.wid:"",this.$parent.showSubscribe=this.isLogin&&!this.subscribeLists.length&&this.configureLists.length,!e&&this.$parent.showSubscribe&&this.$parent.renderData(),this.$nextTick((function(){this.calculateShowMore()})),this.subscribeLists.length||this.$parent.loadedEndTrack()}))},async getConfiguredChannels(){this.loading=!0,await window.shell.execCardMethod({cardId:this.router.cardId,cardWid:this.router.cardWid,method:"getConfiguredChannel"},(e=>{this.loading=!1,this.configureLists=e.data||[]}))},handleChangeMoreTab(e){if(this.handleClickTrack(),e.wid===this.selectedTab)return void(this.expand=!1);this.selectedTab=e.wid,this.expand=!1;const t=document.getElementById("channel-"+e.wid),i=this.$refs.NewsTab.offsetWidth;t&&t.offsetLeft+t.offsetWidth>i?this.offsetStyle=`transform: translateX(${i-t.offsetLeft-t.offsetWidth-16}px)`:this.offsetStyle="transform: translateX(0)"},handleClickMore(){this.expand=!this.expand,this.handleClickTrack()},calculateShowMore(){this.showMore=!!this.$refs.NewsTabCon&&this.$refs.NewsTabCon.scrollWidth>this.$refs.NewsTab.offsetWidth},handleSubscribe(){this.visible=!0,this.getConfiguredChannels(),this.handleClickTrack()},handleOk(){const e=this.$refs.SubscribeModal.checkedLists.map((e=>e.id));this.okLoading=!0,window.shell.execCardMethod({cardId:this.router.cardId,cardWid:this.router.cardWid,method:"subscribeChannel",param:{channelIds:e&&e.join(",")}},(e=>{this.okLoading=!1,"0"===e.errcode?(this.visible=!1,window.shell.emit("update-news")):this.handleClickTrack()}))},handleClose(){this.visible=!1},updateTabLists(){if("all"===this.selectedTab)this.handleUpdateNews();else{const i=this.subscribeLists.find((e=>e.wid===this.selectedTab));var e,t;i?1===this.subscribeLists.length&&(this.selectedTab=null===(e=this.subscribeLists[0])||void 0===e?void 0:e.wid):this.selectedTab=1===this.subscribeLists.length?null===(t=this.subscribeLists[0])||void 0===t?void 0:t.wid:"all"}},handleClickOut(){this.expand=!1},handleUpdateEvents(){this.getSubscribedChannels(!0)}},async mounted(){await this.getConfiguredChannels(),await this.getSubscribedChannels(),window.addEventListener("click",this.handleClickOut),window.shell.on("update-news",this.handleUpdateEvents)},beforeDestroy(){window.removeEventListener("click",this.handleClickOut),window.shell.off("update-news",this.handleUpdateEvents)}},u=p,f=(i("a4d9"),d(u,(function(){var e=this,t=e._self._c;return t("div",{staticStyle:{position:"relative"}},[e.showHeader?t("div",{staticClass:"newsTab"},[t("div",{ref:"NewsTab",staticClass:"newsTab__left portal-font-color-lv2"},[e.subscribeLists.length?t("div",{ref:"NewsTabCon",staticClass:"newsTab__item__wrap",style:e.offsetStyle},e._l(e.subscribeListsAll,(function(i){return t("div",{key:null==i?void 0:i.wid,staticClass:"newsTab__item portal-primary-color-hover-lv1",class:[(null==i?void 0:i.wid)===e.selectedTab?"active portal-primary-color-lv1":""],attrs:{id:"channel-"+(null==i?void 0:i.wid)},on:{click:function(t){return e.handleChangeMoreTab(i)}}},[e._v(" "+e._s(i.name)+" ")])})),0):e._e()]),e.showMore||e.showSubscribe?t("div",{staticClass:"newsTab__right portal-font-color-lv2",class:[e.showMore?"moreShadow":""]},[e.showMore?t("span",{staticClass:"newsTab__right__btn",on:{click:function(t){return t.stopPropagation(),e.handleClickMore.apply(null,arguments)}}},[t("span",{staticClass:"text__ellipsis",staticStyle:{"max-width":"54px","vertical-align":"middle"}},[e._v(e._s(e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","more","更多")))]),t("i",{staticClass:"iconfont icon-Down newsTab__right__MoreIcon portal-font-color-lv4",class:[e.expand?"expand":""]})]):e._e(),e.showMore&&e.showSubscribe?t("span",{staticClass:"newsTab__right__split"}):e._e(),e.showSubscribe?t("span",{staticClass:"newsTab__right__btn portal-primary-color-lv1",on:{click:e.handleSubscribe}},[e.showMore?e._e():t("i",{staticClass:"iconfont icon-icon-dingyue newsTab__right__subscribeIcon"}),t("span",{staticClass:"text__ellipsis",staticStyle:{"max-width":"110px","vertical-align":"middle"}},[e._v(e._s(e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","subscribeBtn","订阅")))])]):e._e()]):e._e()]):e._e(),t("div",{staticClass:"newsTab__more portal-font-color-lv1",class:[e.expand?"show":""],on:{click:function(e){e.stopPropagation()}}},[t("ContainerScroll",{attrs:{maxHeight:.8*e.cardHeight,barKeepShow:!0}},e._l(e.subscribeListsAll,(function(i){return t("div",{key:null==i?void 0:i.wid,staticClass:"newsTab__more__item portal-primary-color-hover-lv1 portal-primary-border-color-hover-lv1",class:[(null==i?void 0:i.wid)===e.selectedTab?"portal-primary-color-lv1 portal-primary-border-color-lv1":""],on:{click:function(t){return e.handleChangeMoreTab(i)}}},[e._v(" "+e._s(i.name)+" ")])})),0)],1),t("we-dialog",{attrs:{title:e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","programLists","栏目列表"),"append-to-body":!0,"close-on-click-modal":!1,"close-on-press-escape":!1,visible:e.visible,"custom-class":"newsSubscibeModal",top:"15vh",width:"800px"},on:{"update:visible":function(t){e.visible=t},closed:function(t){return e.handleClickTrack()}}},[t("subscribe-modal",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"SubscribeModal",attrs:{dataLists:e.configureLists,defaultSelected:e.defaultSelected,router:e.router}}),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("we-button",{staticClass:"portal-primary-color-hover-lv1 portal-primary-border-color-hover-lv4 portal-primary-backgroundcolor-hover-lv5",on:{click:e.handleClose}},[e._v(e._s(e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","cancel","取 消")))]),t("we-button",{class:[e.disabled?"portal-primary-backgroundcolor-lv3 portal-primary-border-color-lv3":"portal-primary-backgroundcolor-lv1 portal-primary-border-color-lv1"],attrs:{type:"primary",loading:e.okLoading,disabled:e.disabled},on:{click:e.handleOk}},[e._v(e._s(e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","ok","确定")))])],1)],1)],1)}),[],!1,null,"3be2b518",null)),g=f.exports,b={props:{itemInfo:Object,config:Object,lastRow:Boolean},data:()=>({cardDayBackground:"card-day-background ",cardMonthBackground:"card-month-background portal-font-color-lv3",titleColor:""}),methods:{mouseenter(){this.cardDayBackground="portal-primary-backgroundcolor-lv1 white-font",this.cardMonthBackground="newportal-primary-backgroundcolor-lv2 newwhite-font",this.titleColor="portal-primary-color-lv1"},mouseleave(){this.cardDayBackground="card-day-background portal-font-color-lv1",this.cardMonthBackground="card-month-background portal-font-color-lv3",this.titleColor=""}}},m=(i("05e4"),d(b,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"timeTitleAbstractVal"},[t("div",{staticStyle:{width:"52px","margin-right":"12px","font-family":"Arial"}},[t("div",{staticClass:"card-day",class:e.cardDayBackground},[e._v(" "+e._s(e.itemInfo.day?e.itemInfo.day:"-")+" ")]),t("div",{staticClass:"card-month",class:e.cardMonthBackground},[e._v(" "+e._s(e.itemInfo.pubTime?e.itemInfo.pubTime.replace("/",".")+" ":"-")+" ")])]),t("div",{staticClass:"timeTitleAbstractVal__right"},[t("div",{staticClass:"timeTitleAbstractVal__title",on:{mouseenter:e.mouseenter,mouseleave:e.mouseleave}},[t("a",{staticClass:"ellipsis newsLink-visited",class:[e.itemInfo.read?"portal-font-color-lv3":"",e.titleColor],staticStyle:{"max-width":"1000px","white-space":"pre","line-height":"24px",height:"24px"},attrs:{target:"_blank"},on:{click:()=>{e.$emit("go-link",e.itemInfo)}}},[e._v(e._s(e.itemInfo.title&&e.itemInfo.title.replace(/\n/g," ")))]),e.itemInfo.isTop?t("div",{staticClass:"tag topTag",attrs:{alt:""}}):e._e(),e.itemInfo.newDisplay?t("div",{staticClass:"tag newTag",attrs:{alt:""}}):e._e()]),t("div",{staticClass:"timeTitleAbstractVal__content ellipsis portal-font-color-lv3"},[e._v(" "+e._s(e.itemInfo.abstractVal||e.itemInfo.contents||"-")+" ")])])])}),[],!1,null,"ea9ed182",null)),_=m.exports,w={props:{itemInfo:Object,config:Object,cardWidth:Number,lastRow:Boolean},computed:{getCardStyle(){return 0===this.config.newsDisplay.dateFormat||this.cardWidth>=600&&1===this.config.newsColumns?"title-row-lower":"title-row-higher"}},methods:{go(e){e?window.open(e):this.$message({showClose:!1,message:"暂无跳转地址",type:"warning"})}}},v=w,x=(i("b66d"),d(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"timeTitle",class:[e.getCardStyle,e.lastRow?"":"borderBootom"]},[t("div",{staticClass:"timeTitle__titleWrap"},[t("a",{staticClass:"timeTitle__title ellipsis newsLink-visited",class:[e.itemInfo.read?"portal-font-color-lv3":""],attrs:{target:"_blank"},on:{click:function(t){return e.go(e.itemInfo.url)}}},[e._v(e._s(e.itemInfo.title&&e.itemInfo.title.replace(/\n/g," ")))]),e.itemInfo.isTop?t("div",{staticClass:"tag topTag",attrs:{alt:""}}):e._e(),e.itemInfo.newDisplay?t("div",{staticClass:"tag newTag",attrs:{alt:""}}):e._e()]),0!==e.config.newsDisplay.dateFormat?t("div",{staticClass:"portal-font-color-lv3 timeDisplay"},[e._v(" "+e._s(e.itemInfo.pubTime||"-")+" ")]):e._e()])}),[],!1,null,"0ac52822",null)),T=x.exports,C={props:{itemInfo:Object,config:Object,lastRow:Boolean,extremum:Boolean},computed:{bgStyle(){return`background-image: url('${this.itemInfo.picUrl}')`}}},y=(i("139d"),d(C,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"timeTitleImg",class:[e.lastRow?"":"borderBootom"]},[e.itemInfo.picUrl?t("a",{staticClass:"timeTitleImg__img",style:e.bgStyle,attrs:{target:"_blank"},on:{click:()=>{e.$emit("go-link",e.itemInfo)}}}):e._e(),t("div",{staticClass:"timeTitleImg__info",class:[e.itemInfo.picUrl&&e.extremum?"extremum":""]},[t("div",{staticClass:"timeTitleImg__titleWrap"},[t("a",{staticClass:"timeTitleImg__info__title ellipsis newsLink-visited",class:[e.itemInfo.read?"portal-font-color-lv3":""],attrs:{target:"_blank"},on:{click:()=>{e.$emit("go-link",e.itemInfo)}}},[e._v(e._s(e.itemInfo.title&&e.itemInfo.title.replace(/\n/g," ")))]),e.itemInfo.isTop?t("div",{staticClass:"tag topTag",attrs:{alt:""}}):e._e(),e.itemInfo.newDisplay?t("div",{staticClass:"tag newTag",attrs:{alt:""}}):e._e()]),t("div",{staticClass:"lineHeight_22 ellipsis portal-font-color-lv3"},[e._v(" "+e._s(e.itemInfo.abstractVal||e.itemInfo.contents||"-")+" ")]),t("div",{staticClass:"lineHeight_22 timeTitleImg__info__foot portal-font-color-lv3"},[t("div",{staticClass:"timeTitleImg__info__channel ellipsis"},[e._v(" "+e._s(`${e.itemInfo.columnName}${e.itemInfo.channelName}`||"-")+" ")]),0!==e.config.newsDisplay.dateFormat?t("div",{staticClass:"timeTitleImg__info__time ellipsis"},[e._v(" "+e._s(e.itemInfo.pubTime||"-")+" ")]):e._e()])])])}),[],!1,null,"6c0cd0e1",null)),k=y.exports,S={props:{itemInfo:Object,config:Object,index:{type:Number,default:0},lastRow:Boolean},computed:{bgStyle(){return`background-image: url('${this.itemInfo.picUrl}')`},showImg(){return 0===this.index&&this.itemInfo.picUrl}}},I=(i("2cde"),d(S,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"publisher",class:[e.lastRow?"":"borderBootom"]},[e.showImg?t("a",{staticClass:"imgWrap",attrs:{target:"_blank"},on:{click:()=>{e.$emit("go-link",e.itemInfo)}}},[t("div",{staticClass:"img",style:e.bgStyle,attrs:{alt:""}}),t("div",{staticClass:"imgTitle__bg"}),t("div",{staticClass:"imgTitle__content ellipsis"},[e._v(" "+e._s(e.itemInfo.title&&e.itemInfo.title.replace(/\n/g," "))+" ")])]):t("div",{staticClass:"publisher__list"},[t("div",{staticClass:"publisher__list__info"},[t("a",{staticClass:"publisher__list__title ellipsis newsLink-visited",class:[e.itemInfo.read?"portal-font-color-lv3":""],attrs:{target:"_blank"},on:{click:()=>{e.$emit("go-link",e.itemInfo)}}},[e._v(e._s(e.itemInfo.title&&e.itemInfo.title.replace(/\n/g," ")))]),e.itemInfo.isTop?t("div",{staticClass:"tag topTag",attrs:{alt:""}}):e._e(),e.itemInfo.newDisplay?t("div",{staticClass:"tag newTag",attrs:{alt:""}}):e._e()]),t("div",{staticClass:"publisher__list__subsInfo portal-font-color-lv3"},[t("div",{staticClass:"publisher__list__name ellipsis"},[e._v(" "+e._s(e.itemInfo.author||"-")+" ")]),0!==e.config.newsDisplay.dateFormat?t("div",{staticClass:"publisher__list__time ellipsis"},[e._v(" "+e._s(e.itemInfo.pubTime||"-")+" ")]):e._e()])])])}),[],!1,null,"9275d1d2",null)),N=I.exports;var L={components:{TabNav:g,TimeTitleAbstractval:_,TimeTitle:T,TimeTitleImg:k,TimeTitlePublisher:N},props:{router:Object},mixins:[n],data:()=>({scroll:{barKeepShow:!0},checked:!1,fontClass:"",newList:[],config:{},containerType:2,containerHeight:412,cardWidth:0,loading:!1,newsLoading:!1,current:1,total:0,pageSize:6,channelIds:"",showSubscribe:!1,newsRead:JSON.parse(window.localStorage.getItem("newsRead")||"[]"),pageNum:1,showPage:!1}),computed:{showMore(){return this.total>this.pageSize&&1==this.config.showMore},imgFloatLayout(){return this.config.newsDisplay&&3==this.config.newsDisplay.type&&1!==this.config.newsColumns&&this.newList.length&&this.newList[0].picUrl},conWidth(){const e=Number(this.config.newsColumns||1);return(this.cardWidth-10)/e<280?`width: ${280*e}px`:"width: 100%"},emptyHeight(){var e;const t=this.channelIds?this.containerHeight:null===(e=this.config.newsHeight)||void 0===e?void 0:e.value;return 0!==this.containerType&&t<366?t:366},switchSize(){return this.showSubscribe&&1==this.config.newsShowSubscribe?150:100}},created(){this.getCardType(),this.getConfig()},methods:{handleCurrentChange(e){this.pageNum=e,this.renderData()},getConfig(){window.shell.execCardMethod({cardId:this.router.cardId,cardWid:this.router.cardWid,method:"getConfig"},(e=>{if("0"===e.errcode){const t=e.data;let i=null;"string"==typeof t&&(i=JSON.parse(JSON.parse(t)),this.showPage=1===i.showPage)}}))},getCardType(){window.shell.execCardMethod({cardId:this.router.cardId,cardWid:this.router.cardWid,method:"getChannelNews",param:{channelIds:"",pageNumber:1}},(e=>{if("0"===e.errcode){const a=e.data;var t,i;this.config=a.configInfo||{},"NoOA"==this.config.cardType?this.renderData():(this.config.newsDisplay.type,this.total=(null===(t=a.datas)||void 0===t?void 0:t.totalSize)||0,this.pageSize=(null===(i=a.datas)||void 0===i?void 0:i.pageSize)||6,this.containerType=this.config.newsHeight.type,this.containerHeight=0===this.containerType?1158:this.config.newsHeight.value-42,this.getDataType(this.config.cardType,this.config.newsTotal))}}))},toData(e){var t=new Date(e);return t.getFullYear()+"-"+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+"-"+(t.getDate()+" ")},getDataType(e,t){this.newsLoading=!0,window.shell.execCardMethod({cardId:"CUS_CARD_MYNEWS",cardWid:"41603402949833",method:e,param:{lang:"zh_CN",pageSize:t.toString(),pageNum:"1"}},(t=>{this.$nextTick((function(){this.newsLoading=!1})),"0"===t.errcode&&(this.newList=[],"getListMessages"==e?t.data.datas.forEach((e=>{this.newList.push({title:e.subject,isTop:!1,newDisplay:!1,pubTime:this.toData(e.receivedDate),url:e.detailUrl?e.detailUrl:""})})):"getEmailReceiveList"==e?t.data.datas.message.list.forEach((e=>{this.newList.push({title:e.TITLE,isTop:!1,newDisplay:!1,pubTime:e.SENDOR_UNIT_NAME,url:e.RESOURCE_ID?"http://i.cuc.edu.cn/cucdcp/forward.action?path=/portal/portal&p=oaemail&ac=1#m=oaemail&pt=de&ptc=d&code="+e.RESOURCE_ID+"&pn=1&status=1":""})})):"getUserPimList"==e?t.data.datas.message.list.forEach((e=>{this.newList.push({title:e.PIM_TITLE,isTop:!1,newDisplay:!1,pubTime:e.CREATE_TIME.split(" ")[0].split("-")[0]+"/"+e.CREATE_TIME.split(" ")[0].split("-")[1],day:e.CREATE_TIME.split(" ")[0].split("-")[2],url:e.RESOURCE_ID?"http://i.cuc.edu.cn/cucdcp/forward.action?path=/portal/portal&p=oaemail&ac=1#m=oaemail&pt=de&ptc=d&code="+e.RESOURCE_ID+"&pn=1&status=1":""})})):console.log("其他类型"),console.log("类型",this.newList))}))},goLink(e){var t;this.handleClickTrack();let i=(null===(t=this.config)||void 0===t?void 0:t.newsDetailJump)||0;Number(i)?(this.handleRecordNews(e),window.shell.openPage("/newsDetail?wid="+e.wid,1,1)):e.url?(this.handleRecordNews(e),window.shell.openPage(e.url,1,2)):window.shell.showMessage({message:this.$Lan("SYS_CARD_NEWSANNOUNCEMENT","noLink","暂无跳转地址"),type:"warning"})},handleRecordNews(e){e.read=!0,this.config.isEnableRead?window.shell.execTemplateMethod("newsRead",{wid:null==e?void 0:e.wid}):this.newsRead.find((t=>t===e.url))||(this.newsRead.push(e.url),window.localStorage.setItem("newsRead",JSON.stringify(this.newsRead)))},changeLoading(){this.loading?this.$nextTick((function(){this.loading=!1})):this.loading=!this.loading},handleChangeTab(e){this.pageNum=1,this.channelIds=e,this.renderData()},handleSubscribe(){this.$refs.TabNav.handleSubscribe()},handleShowMore(){const e=this.channelIds.includes(",")?"":this.channelIds;window.shell.openPage(`newList?cardId=${this.router.cardId}&cardWid=${this.router.cardWid}&channelIds=${e}`,1,1),this.handleClickTrack()},renderData(){this.newsLoading=!0,window.shell.execCardMethod({cardId:this.router.cardId,cardWid:this.router.cardWid,method:"getChannelNews",param:{channelIds:this.channelIds,pageNumber:this.pageNum}},(e=>{if(this.$nextTick((function(){this.newsLoading=!1,this.loadedEndTrack()})),"0"===e.errcode){var t,i,a;const s=e.data,n=(null===(t=s.datas)||void 0===t?void 0:t.data)||[];this.config=s.configInfo||{},this.config.isEnableRead||n.forEach((e=>{e.read=!!this.newsRead.find((t=>t===e.url))})),this.newList=n,this.total=(null===(i=s.datas)||void 0===i?void 0:i.totalSize)||0,this.pageSize=(null===(a=s.datas)||void 0===a?void 0:a.pageSize)||6,this.containerType=this.config.newsHeight.type,this.containerHeight=0===this.containerType?1158:this.config.newsHeight.value-42}}))},getPaddingRight(e){const t=Number(this.config.newsColumns||1);return this.imgFloatLayout&&2===t?0===e||1!==e&&e%t?"20px":"0":this.imgFloatLayout&&3===t?2!==e&&(1===e||(e-1)%t)?"20px":"0":(e+1)%t?"20px":"0"},getCardStyle(e){const t=Number(this.config.newsColumns||1);return"width:"+(Math.round(1/t*1e4)/100+"%")+";padding-right:"+this.getPaddingRight(e)},isLastRow(e){if(!this.showMore)return!1;const t=Number(this.config.newsColumns||1),i=this.imgFloatLayout?this.newList.length+1:this.newList.length,a=parseInt(i/t,10),s=i%t?a+1:a;return this.imgFloatLayout?e+1>=(s-1)*t:e>=(s-1)*t},handleResize(){this.getCardWidth()},getCardWidth(){let e=this.$refs.NewsAnnouncement;if(e&&e.offsetWidth)return void(this.cardWidth=e.offsetWidth);let t=!1;for(;e&&!t;)e=e.parentNode,t=e.classList.contains("gateway-card");this.cardWidth=t?e.offsetWidth:280}},mounted(){this.getCardWidth(),window.addEventListener("resize",this.handleResize)},beforeDestroy(){window.removeEventListener("resize",this.handleResize)}},M=L,E=(i("690e"),d(M,(function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"NewsAnnouncement",staticClass:"newsAnnouncement"},[t("TabNav",{ref:"TabNav",attrs:{router:e.router,cardWidth:e.cardWidth,cardHeight:e.containerHeight,newsShowSubscribe:e.config.newsShowSubscribe},on:{"change-tab":e.handleChangeTab}}),t("AutoContainer",{attrs:{scroll:e.scroll,"con-type":e.containerType,"con-height":e.containerHeight}},[e.newList&&e.newList.length>0?[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.newsLoading,expression:"newsLoading"}]},[t("div",{class:[e.imgFloatLayout?"news-list-float":"news-list"],style:e.conWidth},e._l(e.newList,(function(i,a){return t("div",{key:a,class:[e.imgFloatLayout?"float":""],style:e.getCardStyle(a)},[e.config.newsDisplay&&1==e.config.newsDisplay.type?t("TimeTitleAbstractval",{attrs:{itemInfo:i,config:e.config,lastRow:e.isLastRow(a)},on:{"go-link":e.goLink}}):e.config.newsDisplay&&2==e.config.newsDisplay.type?t("TimeTitleImg",{attrs:{itemInfo:i,config:e.config,lastRow:e.isLastRow(a),extremum:e.conWidth.includes("px")},on:{"go-link":e.goLink}}):e.config.newsDisplay&&3==e.config.newsDisplay.type?t("TimeTitlePublisher",{attrs:{index:a,itemInfo:i,config:e.config,lastRow:e.isLastRow(a)},on:{"go-link":e.goLink}}):t("TimeTitle",{attrs:{itemInfo:i,config:e.config,cardWidth:e.cardWidth,lastRow:e.isLastRow(a)},on:{"go-link":e.goLink}})],1)})),0),e.showPage&&e.total&&e.total>0?t("div",{staticClass:"pages"},[t("p",{staticClass:"total-size portal-font-color-lv1"},[e._v("共"),t("span",[e._v(e._s(e.total))]),e._v("条")]),t("we-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handleCurrentChange}})],1):e._e(),e.showMore?t("div",{staticClass:"newsAnnouncement__page portal-primary-color-lv1",on:{click:e.handleShowMore}},[t("span",{staticClass:"ellipsis"},[e._v(e._s(e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","showMore","查看更多")))]),t("i",{staticClass:"iconfont icon-menu-Unfold newsAnnouncement__page-icon"})]):e._e()])]:t("EmptyCon",{class:[e.emptyHeight>e.switchSize?"":"emptySmall"],staticStyle:{width:"100%"},attrs:{tip:e.showSubscribe&&1==e.config.newsShowSubscribe?"":e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","noData","暂无内容"),subTip:e.showSubscribe&&1==e.config.newsShowSubscribe?e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","noData","暂无内容"):"",height:e.emptyHeight+46,switchSize:e.switchSize},scopedSlots:e._u([{key:"operate",fn:function(){return[e.showSubscribe&&1==e.config.newsShowSubscribe?t("div",{staticClass:"portal-primary-color-lv1 subscribeBtn"},[t("span",{on:{click:e.handleSubscribe}},[e._v(e._s(e.$Lan("SYS_CARD_NEWSANNOUNCEMENT","goSubscribe","点击订阅")))])]):e._e()]},proxy:!0}])})],2)],1)}),[],!1,null,"a445e05e",null)),A=E.exports;function D(e,t){return function(e,t,i){return new s.a({i18n:i.props.i18n,render:t=>t(e,i)}).$mount(t)}(A,e,t)}},"690e":function(e,t,i){"use strict";i("ee86")},"78f7":function(e,t,i){"use strict";i("fd1d")},"7c1e":function(e,t,i){var a=i("24fb"),s=i("1de5"),n=i("d5b8"),o=i("450f");t=a(!1);var r=s(n),l=s(o);t.push([e.i,".newwhite-font[data-v-ea9ed182]{color:#606062!important}.newportal-primary-backgroundcolor-lv2[data-v-ea9ed182]{background:#fff!important}.newsLink-visited[data-v-ea9ed182]{cursor:pointer}.timeTitleAbstractVal[data-v-ea9ed182]{height:76px;display:flex;align-items:center;overflow:hidden}.timeTitleAbstractVal .timeTitleAbstractVal__right[data-v-ea9ed182]{flex:1;min-width:0}.timeTitleAbstractVal .timeTitleAbstractVal__right .timeTitleAbstractVal__title[data-v-ea9ed182]{font-size:16px;display:flex;align-items:center}.timeTitleAbstractVal .timeTitleAbstractVal__right .tag[data-v-ea9ed182]{width:28px;height:14px;margin-left:6px;flex-shrink:0;background-size:100% 100%}.timeTitleAbstractVal .timeTitleAbstractVal__right .topTag[data-v-ea9ed182]{background-image:url("+r+")}.timeTitleAbstractVal .timeTitleAbstractVal__right .newTag[data-v-ea9ed182]{background-image:url("+l+")}.timeTitleAbstractVal .timeTitleAbstractVal__right .timeTitleAbstractVal__content[data-v-ea9ed182]{font-size:14px;line-height:22px;margin-top:2px}.card-day[data-v-ea9ed182]{height:26px;line-height:1.7;font-size:16px;text-align:center;border-radius:4px 4px 0 0;font-weight:700;color:#606062}.card-day-background[data-v-ea9ed182]{background-color:#e3e3e3}.card-month[data-v-ea9ed182]{line-height:26px;font-size:12px;text-align:center;border-radius:0 0 4px 4px}.card-month-background[data-v-ea9ed182]{background-color:#f5f5f5}.white-font[data-v-ea9ed182]{color:#fff}",""]),e.exports=t},"8bbf":function(t,i){t.exports=e},"98ca":function(e,t,i){(t=i("24fb")(!1)).push([e.i,'.newsAnnouncement[data-v-a445e05e]{width:100%;min-height:150px;line-height:normal;position:relative}.newsAnnouncement .emptySmall .subscribeBtn[data-v-a445e05e]{text-align:left}.newsAnnouncement .emptySmall[data-v-a445e05e] .small-empty-img{background-size:180px 85px;margin-right:24px}.newsAnnouncement[data-v-a445e05e] .__rail-is-horizontal,.newsAnnouncement[data-v-a445e05e] .__rail-is-vertical{background:#fff!important}.news-list[data-v-a445e05e]{display:flex;flex-wrap:wrap}.subscribeBtn[data-v-a445e05e]{text-align:center;cursor:pointer;font-size:16px;line-height:24px;margin-bottom:2px;margin-top:8px}.news-list-float .float[data-v-a445e05e]{float:left}.news-list-float[data-v-a445e05e]:after{display:block;content:"";visibility:hidden;height:0;overflow:hidden;clear:both}.newsAnnouncement__page[data-v-a445e05e]{background:#f5f5f5;height:46px;display:flex;align-items:center;justify-content:center;border-radius:4px;cursor:pointer;padding:0 40px}.newsAnnouncement__page .newsAnnouncement__page-icon[data-v-a445e05e]{flex-shrink:0;margin-left:4px}.pages[data-v-a445e05e]{display:flex;align-items:center;justify-content:space-between}.pages .total-size[data-v-a445e05e]{font-size:14px;font-weight:400}.pages .total-size>span[data-v-a445e05e]{margin:0 5px}',""]),e.exports=t},a265:function(e,t,i){var a=i("7c1e");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,i("499e").default)("06b4db66",a,!0,{sourceMap:!1,shadowMode:!1})},a4d9:function(e,t,i){"use strict";i("fb84")},ad0a:function(e,t,i){(t=i("24fb")(!1)).push([e.i,".subscribeModal[data-v-5f15ac7d]{display:flex;height:calc(70vh - 174px)}.subscribeModal .subscribeModal__header[data-v-5f15ac7d]{height:48px;border-bottom:1px solid #f0f0f0;display:flex;align-items:center;padding:0 12px}.subscribeModal .subscribeModal__header[data-v-5f15ac7d] .we-input__suffix{cursor:pointer;right:12px}.subscribeModal .subscribeModal__header[data-v-5f15ac7d] .we-input__inner{height:32px;line-height:32px;border-radius:4px;border:1px solid #d9d9d9;padding:0 30px 0 12px}.subscribeModal .subscribeModal__header[data-v-5f15ac7d] .we-input__icon{line-height:32px}.subscribeModal .subscribeModal__left[data-v-5f15ac7d]{width:40%;margin-right:16px;border-radius:4px;border:1px solid #f0f0f0}.subscribeModal .subscribeModal__left[data-v-5f15ac7d] .we-tree{display:inline-block;min-width:100%}.subscribeModal .subscribeModal__left[data-v-5f15ac7d] .__rail-is-horizontal,.subscribeModal .subscribeModal__left[data-v-5f15ac7d] .__rail-is-vertical{background:#fff!important}.subscribeModal .subscribeModal__right[data-v-5f15ac7d]{flex:1;min-width:0;border-radius:4px;border:1px solid #f0f0f0}.subscribeModal .subscribeModal__right .subscribeModal__tag[data-v-5f15ac7d]{display:inline-flex;background:#f5f5f5;border-radius:4px;padding:4px 12px;margin:0 8px 8px 0;align-items:center}.subscribeModal .subscribeModal__right .subscribeModal__tag .subscribeModal__tag__name[data-v-5f15ac7d]{flex:1;min-width:0;line-height:22px;flex-basis:auto}.subscribeModal .subscribeModal__right .subscribeModal__tag .subscribeModal__tag__close[data-v-5f15ac7d]{margin-left:6px}.subscribeModal[data-v-5f15ac7d] .we-checkbox__label{padding-left:8px}.subscribeModal[data-v-5f15ac7d] .we-tree-node__content{height:38px}.subscribeModal[data-v-5f15ac7d] .we-tree-node__expand-icon{font-size:16px}.subscribeModal[data-v-5f15ac7d] .we-tree-node__expand-icon.is-leaf{color:transparent}.subscribeModal[data-v-5f15ac7d] .we-tree .we-checkbox__inner{width:16px;height:16px;vertical-align:middle}.subscribeModal[data-v-5f15ac7d] .we-tree-node__content>.we-tree-node__expand-icon{padding:6px 8px}.subscribeModal[data-v-5f15ac7d] .we-tree .we-checkbox__inner:after{top:2px;left:5px}.subscribeModal[data-v-5f15ac7d] .we-tree .we-checkbox__input.is-indeterminate .we-checkbox__inner:before{top:6px}.subscribeModal[data-v-5f15ac7d] .we-tree-node__label{padding-right:5px}",""]),e.exports=t},b66d:function(e,t,i){"use strict";i("0629")},d5b8:function(e,t,i){e.exports=i.p+"img/topTag.caab4e04.svg"},d7a1:function(e,t,i){var a=i("1769");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,i("499e").default)("0bcd772e",a,!0,{sourceMap:!1,shadowMode:!1})},ee86:function(e,t,i){var a=i("98ca");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,i("499e").default)("0173fbd2",a,!0,{sourceMap:!1,shadowMode:!1})},ef7f:function(e,t,i){var a=i("01c5");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,i("499e").default)("76d66e0f",a,!0,{sourceMap:!1,shadowMode:!1})},fb84:function(e,t,i){var a=i("321b");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,i("499e").default)("3292516d",a,!0,{sourceMap:!1,shadowMode:!1})},fd1d:function(e,t,i){var a=i("ad0a");a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,i("499e").default)("d43a420a",a,!0,{sourceMap:!1,shadowMode:!1})}})}));
//# sourceMappingURL=/CUS_CARD_NEWSANNOUNCEMENT/pc/js/app.js.map